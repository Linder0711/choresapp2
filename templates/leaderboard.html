{% extends "base.html" %}

{% block title %}Leaderboard{% endblock %}

{% block content %}
  <h1>All-Time Leaderboard</h1>
  <table border="1">
    <tr>
      <th>User</th>
      <th>Total Points</th>
    </tr>
    {% for row in all_time_data %}
      <tr>
        <td>{{ row.Name }}</td>
        <td>{{ row.Total_Points }}</td>
      </tr>
    {% endfor %}
  </table>

  <h2>Time-Based Leaderboard</h2>
  <form method="get" action="{{ url_for('leaderboard') }}">
    <select name="range">
      <option value="today">Today</option>
      <option value="7days">Last 7 Days</option>
      <option value="month">Month to Date</option>
    </select>
    <input type="submit" value="Update">
  </form>

  <h3>Showing: {{ selected_range.replace('7days', 'Last 7 Days').replace('today', 'Today').replace('month', 'Month to Date') }}</h3>
  <table border="1">
    <tr>
      <th>User</th>
      <th>Points</th>
    </tr>
    {% for row in time_filtered_data %}
      <tr>
        <td>{{ row.Name }}</td>
        <td>{{ row.points }}</td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
